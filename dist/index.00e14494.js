const e=(e,t)=>{let c=document.createElement("div");return c.classList.add(e),c.id=t,c},t=e=>{let t=document.createElement("div");return t.classList.add(e),t},c=e=>{let t=document.createElement("a");return t.classList.add(e),t},o=(e,t,c)=>{let o=document.createElement("img");return o.classList.add(e),o.src=t,o.alt=c,o},r=(e,t)=>{let c=document.createElement("p");return c.classList.add(e),c.textContent=t,c},a=(e,t)=>{let c=document.createElement("p");return c.classList.add(e),c.textContent=t,c},n=(e,t)=>{let c=document.createElement("button");return c.classList.add(e),c.textContent=t,c},d=async()=>({products:await fetch("https://fakestoreapi.com/products").then(e=>e.json()),users:await fetch("https://fakestoreapi.com/users").then(e=>e.json())});(async()=>{let{users:l,products:s}=await d();console.log(l,s);let i=document.querySelector(".card-products_list");function u(d,l,s,u,p,m){let y=e("card-product_item",d),g=c("card-product_pop-up"),_=t("card-product_image"),f=o("img",l,"Image"),k=t("scale-product"),E=r("text-scale_product","Увеличить картинку"),L=t("card-product_information"),h=a("card-product_title",s),b=a("card-product_category",`\u{41A}\u{430}\u{442}\u{435}\u{433}\u{43E}\u{440}\u{438}\u{44F}: ${u}`),q=r("card-product_description",p),S=t("card-product_informationPrice"),v=r("card-product_price",m),C=r("card-product_currency"," p."),x=n("btn-add_basket","В корзину");i.append(y),y.append(g,L),g.append(_,k),_.append(f),k.append(E),S.append(v,C),L.append(h,b,q,S,x)}!function(e){e.forEach(e=>{let{id:t,image:c,title:o,category:r,description:a,price:n}=e;u(t,c,o,r,a,n)})}(s);let p=()=>{let e=document.getElementById("searchProduct");console.log(p),e.addEventListener("input",()=>{let t=e.value.toLowerCase().trim(),c=s.filter(e=>e.title.toLowerCase().includes(t));i.innerHTML="",c.forEach(e=>{let{id:t,image:c,title:o,category:r,description:a,price:n}=e;u(t,c,o,r,a,n)})})};p();let m=document.getElementById("modalBasket"),y=document.getElementById("OpenModal"),g=document.getElementById("home");console.log(g),y.onclick=function(){m.style.display="block"},g.onclick=function(){m.style.display="none",console.log(!0)};let _=document.querySelector(".zoom-element_image img"),f=document.querySelector(".modal-element_image");i.addEventListener("click",e=>{if(e.target.classList.contains("scale-product")){let t=e.target.closest(".card-product_item").querySelector(".card-product_image img");f.style.display="block",_.src=t.src}e.target.classList.contains("btn-add_basket")&&e.target.closest(".card-product_item").classList.add("check")}),document.querySelector(".header-basket_item").addEventListener("click",e=>{if(e.target.classList.contains("header-basket_item")){let e=document.querySelectorAll(".check"),t=document.querySelector(".basket_information_product"),c=document.querySelector(".basket_information_totalAmountProduct"),o=0;e.forEach(e=>{let c=e.cloneNode(!0);c.querySelector(".btn-add_basket").remove(),c.querySelector(".scale-product").remove(),o+=+c.querySelector(".card-product_price").textContent,t.append(c)}),c.textContent=o}}),f.onclick=function(){f.style.display="none"}})();