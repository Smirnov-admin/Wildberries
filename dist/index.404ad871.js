const e=(e,t)=>{let c=document.createElement("div");return c.classList.add(e),c.id=t,c},t=e=>{let t=document.createElement("div");return t.classList.add(e),t},c=e=>{let t=document.createElement("a");return t.classList.add(e),t},r=(e,t,c)=>{let r=document.createElement("img");return r.classList.add(e),r.src=t,r.alt=c,r},a=(e,t)=>{let c=document.createElement("p");return c.classList.add(e),c.textContent=t,c},d=(e,t)=>{let c=document.createElement("p");return c.classList.add(e),c.textContent=t,c},n=(e,t)=>{let c=document.createElement("button");return c.classList.add(e),c.textContent=t,c},o=async()=>({products:await fetch("https://fakestoreapi.com/products").then(e=>e.json()),users:await fetch("https://fakestoreapi.com/users").then(e=>e.json())});(async()=>{let{users:l,products:s}=await o();console.log(l,s);let i=document.querySelector(".card-products_list");function u(o,l,s,u,p,m){let g=e("card-product_item",o),y=c("card-product_pop-up"),E=t("card-product_image"),_=r("img",l,"Image"),f=t("scale-product"),L=a("text-scale_product","Увеличить картинку"),h=t("card-product_information"),k=d("card-product_title",s),b=d("card-product_category",`\u{41A}\u{430}\u{442}\u{435}\u{433}\u{43E}\u{440}\u{438}\u{44F}: ${u}`),v=a("card-product_description",p),w=a("card-product_price",`${m} \u{440}.`),C=n("btn-add_basket","В корзину");i.append(g),g.append(y,h),y.append(E,f),E.append(_),f.append(L),h.append(k,b,v,w,C)}!function(e){e.forEach(e=>{let{id:t,image:c,title:r,category:a,description:d,price:n}=e;u(t,c,r,a,d,n)})}(s);let p=document.getElementById("modalBasket"),m=document.getElementById("OpenModal"),g=document.querySelector(".zoom-element_image img"),y=document.querySelector(".modal-element_image");m.onclick=function(){p.style.display="block"},i.addEventListener("click",e=>{if(e.target.classList.contains("scale-product")){let t=e.target.closest(".card-product_item").querySelector(".card-product_image img");y.style.display="block",g.src=t.src}}),y.onclick=function(){y.style.display="none"};let E=()=>{let e=document.getElementById("searchProduct");console.log(E),e.addEventListener("input",()=>{let t=e.value.toLowerCase().trim(),c=s.filter(e=>e.title.toLowerCase().includes(t));i.innerHTML="",c.forEach(e=>{let{id:t,image:c,title:r,category:a,description:d,price:n}=e;u(t,c,r,a,d,n)})})};E()})();